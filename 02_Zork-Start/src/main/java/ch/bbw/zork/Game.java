package ch.bbw.zork;import java.util.ArrayList;import java.util.Arrays;import java.util.HashSet;import java.util.Stack;import java.util.Scanner;import java.util.Random;public class Game {    ArrayList<Items> itemList = new ArrayList<Items>();    String name; // Variable für den Namen    String name1 = "weise"; // Variable für den Namen    String name4 = "einen anderen namen"; // Variable für den Namen    int ausdauer = 10; // Charakter Attribut    int gluck = 10; // Charakter Attribut    int mapsehen;    Scanner scanner = new Scanner(System.in);    Random rand = new Random(); // Zufallszahl verbindung    int zufall;    private Parser parser;    private Room currentRoom;    private Room flugzeug, wald, höchster_punkt, fluss, höhle, encounter, funkturm, stadt;    boolean hasItem1 = false, hasItem2 = false;    public Game() {        parser = new Parser(System.in);        flugzeug = new Room("Absturzort beim Flugzeug");        wald = new Room("Wald, vor dem Absturzort");        höchster_punkt = new Room("Kleiner Berg, höchster Punkt, Map ist hier einsehbar");        fluss = new Room("Ruhiger Fluss mit Fischen, Ausdauer wird um 3 Punkte aufgefüllt");        höhle = new Room("Höhle, Ausdauer wird um 3 Punkte aufgefüllt");        encounter = new Room("Achtung, zufallsbegegnung mit Tier");        funkturm = new Room("Funkturm, hilfe anfordern wenn Funkgerät und Mikrofon dabei");        stadt = new Room("Stadt, du hast es geschafft, du bist entkommen und hast überlebt!");        flugzeug.setExits(null, wald, null, null);        wald.setExits(null, höchster_punkt, höhle, null);        höchster_punkt.setExits(null, fluss, encounter, wald);        fluss.setExits(null, null, null, höchster_punkt);        höhle.setExits(wald, encounter, null, null);        encounter.setExits(höchster_punkt, funkturm, null, höhle);        funkturm.setExits(fluss, null, null, encounter);        stadt.setExits(null, null, null, null);        currentRoom = flugzeug; // start des Spiels    }    public int randomization() {        int randomNumber = rand.nextInt(5);        return randomNumber;    }    public int zufallsrechner() {        zufall = gluck - randomization();        System.out.println(zufall);        if (zufall <= 0) {            System.out.println("\nEs ist ein Bär, du bist am Arsch");            ausdauer -= 3;            System.out.println("Deine Ausdauer beträgt " + ausdauer);            return ausdauer;        } else if (zufall == 1) {            System.out.println("\nEs ist ein Wolf, Pech gehabt, du verlierst einen Ausdauer Punkt");            ausdauer -= 1;            System.out.println("Deine Ausdauer beträgt " + ausdauer);            return ausdauer;        } else {            System.out.println(                    "\nEs ist ein Hase, glück gehabt, du fängst und isst es, deine Ausdauer lädt sich um 2 Punkte auf");            ausdauer += 2;            System.out.println("Deine Ausdauer beträgt " + ausdauer);            return ausdauer;        }    }    public void play() {        printWelcome();        // Enter the main command loop. Here we repeatedly read commands and        // execute them until the game is over.        boolean finished = false;        while (!finished) {            Command command = parser.getCommand();            finished = processCommand(command);        }        System.out.println("Danke " + name + " das du mein Spiel gespielt hast, vielleicht schaffst du es beim nächsten mal!");    }    public static boolean CompareString(String var1, String var2) {        return var1.equals(var2);    }    public void charakter() {        Scanner scanner = new Scanner(System.in);        System.out.println(                "Zu erst brauchen wir einen Ausdauer und danach Glückswert, ACHTUNG, beide Werte zusammen müssen 10 ergeben \n( Tipp, Ausdauer sollte mindestens 4 sein )");        System.out.println("\n\nBitte Ausdauerwert eingeben");        ausdauer = scanner.nextInt();        System.out.println("Bitte Glückswert eingeben");        gluck = scanner.nextInt();        if (gluck + ausdauer > 10) {            System.out.println("Zu hohe Werte");            charakter();        } else if (gluck + ausdauer < 10) {            System.out.println("Zu niedrige Werte");            charakter();        } else {            printWelcome2();        }    }    public void printWelcome() {        System.out.println("Wie heisst du, wähle weise, du kannst es später nicht mehr ändern");        Scanner scanner = new Scanner(System.in);        name = scanner.nextLine();        if (CompareString(name, name1)) {            System.out.println("Haha, lustig. Tippe einen anderen Namen");            name = scanner.nextLine();        }        if (CompareString(name, name4)) {            System.out.println("So, das reicht, du heisst nun 'Klugscheisser'");            String name5 = "Klugscheisser";            name = name5;        }        System.out.println();        System.out.println("Willkommen " + name + " zum Zork-Spiel\n");        System.out.println("Zork ist ein einfaches Text-Adventure Spiel\n");        charakter();    }    private void printWelcome2() {        System.out.println("\nTippe 'hilfe' für deine möglichen Befehle\n");        System.out.println();        System.out.println(currentRoom.longDescription());    }    private boolean processCommand(Command command) {        if (command.isUnknown()) {            System.out.println("Ich weiss nicht was du meinst");            return false;        }        String commandWord = command.getCommandWord();        if (commandWord.equals("hilfe")) {            printHelp();        } else if (commandWord.equals("items")) {            itemsanzeigen();        } else if (commandWord.equals("gehe")) {            goRoom(command);        } else if (commandWord.equals("beenden")) {            if (command.hasSecondWord()) {                System.out.println("was beenden?");            } else {                return true; // signal that we want to quit            }        }        return false;    }    private void printHelp() {        System.out.println("Du bist abgestürzt und alleine, das Flugzeug hat beim Bruchlanden einen Funkturm getroffen.\nSieht so aus als ob ein Teil beim Fluss und ein Teil bei der Höhle zerschellt ist.\nDa solltest du nach den Items suchen, ohne die wirst du nicht nach hilfe rufen können und auch nicht überleben");        System.out.println("Du bist am Absturzort");        System.out.println();        System.out.println("Deine möglichen Befehle:");        System.out.println(parser.showCommands());    }    public void AddItem(Items item) {        itemList.add(item);    }    public void itemsanzeigen() {        int size = itemList.size();        for (int i = 0; i < size; i++) {            String itemname = itemList.get(i).Itemname;            System.out.println(itemname);        }    }    private void goRoom(Command command) {        if (!command.hasSecondWord()) {            System.out.println("Wohin gehen?");        } else {            String direction = command.getSecondWord();            // Try to leave current room.            Room nextRoom = currentRoom.nextRoom(direction);            if (nextRoom == null)                System.out.println("Da gibts kein weg!");            else {                ausdauer = ausdauer - 1;                if (ausdauer > 0) {                    currentRoom = nextRoom;                    if (nextRoom == fluss) {                        ausdauer = ausdauer + 3;                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        if (!hasItem1) {                            System.out.println("Du hast einen Mikrofon gefunden");                            String Mikrofonname = "Mikrofon";                            Items Mikrofon = new Items();                            Mikrofon.setitemname(Mikrofonname);                            AddItem(Mikrofon);                            hasItem1 = true;                        }                        System.out.println(currentRoom.longDescription());                    } else if (nextRoom == höchster_punkt) {                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        System.out.println(currentRoom.longDescription());                        System.out.println("Map ansehen? \n<1>Ja\nNein, drück was dein Herz begehrt");                        mapsehen = scanner.nextInt();                        switch (mapsehen) {                            case 1:                                System.out.println("Flugzeug	-	Wald	-	Berg	-	Fluss\n"                                        + "			Höhle	-Zufallsbegegnung-	Funkturm\n"                                        + "							Stadt (Ziel)");                                break;                            default:                                break;                        }                    } else if (nextRoom == höhle) {                        ausdauer = ausdauer + 3;                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        if(!hasItem2) {                            System.out.println("Du hast einen Funkgerät gefunden");                            String Mikrofonname = "Funkgerät";                            Items Mikrofon = new Items();                            Mikrofon.setitemname(Mikrofonname);                            AddItem(Mikrofon);                            hasItem1 = true;                        }                        System.out.println(currentRoom.longDescription());                    } else if (nextRoom != encounter) {                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        System.out.println(currentRoom.longDescription());                    } else if (nextRoom == funkturm) {                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        System.out.println(currentRoom.longDescription());                        if (itemList.size() >= 2) {                            System.out.println(                                    "Du hast die nötigen Teile dabei, \ndu rufst nach hilfe, wirst abgeholt und in Sicherheit gebracht");                            System.out.println("Du hast es geschafft, du hast überlebt");                            System.out.println("Gratulation " + name);                            System.exit(0);                        } else {                            System.out.println(                                    "Du hast die nötigen Teile nicht dabei, geh und such sie, ohne wirst du nicht nach Hilfe rufen können und überleben");                        }                    } else if (nextRoom == encounter) {                        System.out.println("Deine Ausdauer beträgt " + ausdauer + "\n");                        System.out.println("Achtung, zufallsbegegnung mit Tier");                        System.out.println("Dein Glück: " + gluck + " 		Zufallswert: " + randomization()                                + "\n\n2\tHase: du fängst es, Grillst es, isst es und bekommst +2 Ausdauer\n1\tWolf: du wirst gejagt, leicht verletzt aber entkommst, -1 Ausdauer\n0\tBär: Machen wirs kurz, du bist am Arsch, -3 Ausdauer");                        if (zufallsrechner() <= 0) {                            System.out.println(name + ", du bist gestorben");                            System.exit(0);                        }                    }                } else {                    System.out.println("Deine Ausdauer beträgt " + ausdauer);                    System.out.println(name + ", du bist gestorben");                    System.exit(0);                }            }        }    }}